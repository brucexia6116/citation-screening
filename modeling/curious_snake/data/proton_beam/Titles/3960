Dose calculations in proton beams: range straggling corrections and energy scaling