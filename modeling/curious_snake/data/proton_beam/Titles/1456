Optimization of accelerator target and detector for portal imaging using Monte Carlo simulation and experiment