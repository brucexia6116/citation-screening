Four-dimensional Monte Carlo simulation of time-dependent geometries