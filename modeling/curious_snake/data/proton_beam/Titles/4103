In vitro and in vivo studies of the TRIUMF pion therapy beam