monte carlo treatment planning essential model efficiently patient dependent beam modifying devices collimators mlc monte carlo geometry tracking procedure presented allowing simulation photon electron transport devices short calculation time tracking procedure based elemental regions surfaces mainly planes separate regions bit patterns bit masks identify regions photon cross sections photoelectric absorption compton scattering pair production electron stopping powers ranges provided physical reference data national institute standards technology nist tracking procedure implemented c design based c class hierarchies inheritance using geometry technique mlc models constructed account effects curved leaf ends models integrated monte carlo dose calculation engine xvmc treatment planning tested comparing different mlc implementations verification measurement multi leaf object oriented tongue groove