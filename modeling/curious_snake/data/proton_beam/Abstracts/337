The Anisotropic Analytical Algorithm (AAA) is a new pencil beam convolution/superposition algorithm proposed by Varian for photon dose calculations. The configuration of AAA depends on linear accelerator design and specifications. The purpose of this study was to investigate the accuracy of AAA for an Elekta SL25 linear accelerator for small fields and intensity modulated radiation therapy (IMRT) treatments in inhomogeneous media. The accuracy of AAA was evaluated in two studies. First, AAA was compared both with Monte Carlo (MC) and the measurements in an inhomogeneous phantom simulating lung equivalent tissues and bone ribs. The algorithm was tested under lateral electronic disequilibrium conditions, using small fields (2 x 2 cm(2)). Good agreement was generally achieved for depth dose and profiles, with deviations generally below 3% in lung inhomogeneities and below 5% at interfaces. However, the effects of attenuation and scattering close to the bone ribs were not fully taken into account by AAA, and small inhomogeneities may lead to planning errors. Second, AAA and MC were compared for IMRT plans in clinical conditions, i.e., dose calculations in a computed tomography scan of a patient. One ethmoid tumor, one orophaxynx and two lung tumors are presented in this paper. Small differences were found between the dose volume histograms. For instance, a 1.7% difference for the mean planning target volume dose was obtained for the ethmoid case. Since better agreement was achieved for the same plans but in homogeneous conditions, these differences must be attributed to the handling of inhomogeneities by AAA. Therefore, inherent assumptions of the algorithm, principally the assumption of independent depth and lateral directions in the scaling of the kernels, were slightly influencing AAA's validity in inhomogeneities. However, AAA showed a good accuracy overall and a great ability to handle small fields in inhomogeneous media compared to other pencil beam convolution algorithms