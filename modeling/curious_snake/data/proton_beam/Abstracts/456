To calculate photon spectra for a 10 MV x-ray beam emitted by a medical linear accelerator, we performed numerical analysis using the aluminium transmission data obtained along the central axis of the beam under the narrow beam condition corresponding to a 3x3 cm2 field at a 100 cm distance from the source. We used the BFGS quasi-Newton method based on a general nonlinear optimization technique for the numerical analysis. The attenuation coefficients, aluminium thicknesses and measured transmission data are necessary inputs for the numerical analysis. The calculated x-ray spectrum shape was smooth in the lower to higher energy regions without any angular components. The x-ray spectrum acquired by the employed method was evaluated by comparing the measurements along the central axis percentage depth dose in a water phantom and by a Monte Carlo simulation code, the electron gamma shower code. The values of the calculated percentage depth doses for a 10x10 cm2 field at a 100 cm source-to-surface distance in a water phantom were obtained using the same geometry settings as those of the water phantom measurement. The differences in the measured and calculated values were less than +/-1.0% for a broad region from the shallow part near the surface to deep parts of up to 25 cm in the water phantom