Since 1997 a radiotherapy unit using fast carbon ions is operational at GSI. An intensity-controlled magnetic raster scanner together with a synchrotron allowing fast energy variation enable a unique method of purely active dose shaping in three dimensions. This contribution describes the necessary steps to establish a treatment planning system for this novel modality. We discuss the requirements for the physical beam model and the radiobiological model. Based on these we chose to implement a home-grown pencil beam model to describe the ion-tissue interaction and the Local Effect Model to calculate the RBE voxel-by-voxel. Given the large number of degrees of freedom biological dose optimization must be achieved by means of inverse treatment planning. All ion-related aspects are collected in our TRiP98 software. Biological dosimetry measuring cell survival in two dimensions turns out to be a good way to verify the model predictions as well as the actual irradiation procedure. We show a patient example and outline the future steps towards a dedicated clinic facility for all light ions