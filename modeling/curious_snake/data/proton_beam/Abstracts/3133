The phase space time evolution model of Huizenga and Storchi and Morawska-Kaczynska and Huizenga has been modified to accommodate calculations of energy deposition by arbitrary electron beams in three-dimensional heterogeneous media. This is a further development aimed at the use of the phase space evolution model in radiotherapy treatment planning. The model presented uses an improved method to control the evolution of the phase space state. This new method results in a faster algorithm, and requires less computer memory. An extra advantage of this method is that it allows the pre-calculation of information, further reducing calculation times. Typical results obtainable with this model are illustrated with the cases of (i) a 20 MeV pencil beam in a water phantom, (ii) a 20 MeV 5 x 5 cm2 beam in a water phantom containing two air cavities, and (iii) a 20 MeV 5 x 5 cm2 beam in a water phantom containing an aluminium region. The results of the dose distribution calculations are in good agreement with and require significantly less computation time than results obtained with Monte Carlo methods