Jointly modelling the relationship between survival and pulmonary function in cystic fibrosis patients